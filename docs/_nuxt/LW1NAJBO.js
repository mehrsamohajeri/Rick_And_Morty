import{_ as I,a as F}from"./DIwaT7Zo.js";import{e as _,c as l,a as o,u as i,d as $,F as R,r as Z,o as c,t as m,h as N,b as y,i as U,k as x,f,g as u}from"./DAraDU9o.js";import{u as O,a as C}from"./CEF5p5n3.js";import{u as T}from"./Gavmq8C5.js";const j="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='16'%20viewBox='0%200%2020%2016'%20fill='none'%3e%3cpath%20d='M4%209H13V7H4V9ZM4%206H13V4H4V6ZM2%2016C1.45%2016%200.979167%2015.8042%200.5875%2015.4125C0.195833%2015.0208%200%2014.55%200%2014V2C0%201.45%200.195833%200.979167%200.5875%200.5875C0.979167%200.195833%201.45%200%202%200H18C18.55%200%2019.0208%200.195833%2019.4125%200.5875C19.8042%200.979167%2020%201.45%2020%202V14C20%2014.55%2019.8042%2015.0208%2019.4125%2015.4125C19.0208%2015.8042%2018.55%2016%2018%2016H2Z'%20fill='%23B2DF28'/%3e%3c/svg%3e",q={class:"flex items-center gap-2 text-xl font-semibold text-white mb-4"},z=["src"],G={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},J={class:"font-bold text-white"},K={class:"text-episode text-xs font-medium mt-2"},P={class:"text-gray-500 text-xs mt-2"},Q=_({__name:"EpisodesSection",props:{episodes:{}},setup(a){return(e,s)=>(c(),l("section",null,[o("h2",q,[o("img",{src:i(j),alt:"",class:"w-5 h-4","aria-hidden":"true"},null,8,z),s[0]||(s[0]=$(" Episodes ",-1))]),o("ul",G,[(c(!0),l(R,null,Z(a.episodes,r=>(c(),l("li",{key:r.id,class:"p-4 rounded-[16px] bg-episode-background"},[o("p",J,m(r.name),1),o("p",K,m(r.episode),1),o("p",P,m(r.air_date),1)]))),128))])]))}}),W="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cmask%20id='mask0_2046_789'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='24'%20height='24'%3e%3crect%20width='24'%20height='24'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_2046_789)'%3e%3cpath%20d='M12%2012C12.55%2012%2013.0208%2011.8042%2013.4125%2011.4125C13.8042%2011.0208%2014%2010.55%2014%2010C14%209.45%2013.8042%208.97917%2013.4125%208.5875C13.0208%208.19583%2012.55%208%2012%208C11.45%208%2010.9792%208.19583%2010.5875%208.5875C10.1958%208.97917%2010%209.45%2010%2010C10%2010.55%2010.1958%2011.0208%2010.5875%2011.4125C10.9792%2011.8042%2011.45%2012%2012%2012ZM12%2022C9.31667%2019.7167%207.3125%2017.5958%205.9875%2015.6375C4.6625%2013.6792%204%2011.8667%204%2010.2C4%207.7%204.80417%205.70833%206.4125%204.225C8.02083%202.74167%209.88333%202%2012%202C14.1167%202%2015.9792%202.74167%2017.5875%204.225C19.1958%205.70833%2020%207.7%2020%2010.2C20%2011.8667%2019.3375%2013.6792%2018.0125%2015.6375C16.6875%2017.5958%2014.6833%2019.7167%2012%2022Z'%20fill='%23B2DF28'/%3e%3c/g%3e%3c/svg%3e",X={class:"flex items-center gap-2 text-xl font-semibold text-white mb-4"},Y=["src"],tt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},et={key:0,class:"p-4 rounded-[16px] bg-episode-background"},st={class:"text-white font-bold"},ot={class:"text-episode text-xs font-medium mt-2"},at={class:"text-gray-500 text-xs mt-2"},nt=_({__name:"LocationsSection",props:{character:{},currentLocation:{}},setup(a){return(e,s)=>(c(),l("section",null,[o("h2",X,[o("img",{src:i(W),alt:"",class:"w-6 h-6","aria-hidden":"true"},null,8,Y),s[0]||(s[0]=$(" Locations ",-1))]),o("ul",tt,[a.character.location?.name?(c(),l("li",et,[o("p",st,m(a.character.location.name),1),o("p",ot,m(a.currentLocation?.type??"unknown"),1),o("p",at,m(a.currentLocation?.dimension||"unknown"),1)])):N("",!0)])]))}}),ct={class:"mx-auto"},rt={class:"grid md:grid-cols-1 gap-8"},it=_({__name:"CharacterDetailContent",props:{character:{},episodes:{},currentLocation:{}},setup(a){return(e,s)=>{const r=Q,h=nt;return c(),l("div",ct,[o("div",rt,[y(r,{episodes:a.episodes},null,8,["episodes"]),y(h,{character:a.character,"current-location":a.currentLocation},null,8,["character","current-location"])])])}}}),_t=_({__name:"[id]",async setup(a){let e,s;const r=U(),{getCharacter:h,getEpisodes:L,getLocations:b,extractIdFromUrl:g}=O(),p=u(()=>r.params.id),{data:n,pending:v,error:lt}=([e,s]=x(()=>C(`character-${p.value}`,()=>h(p.value))),e=await e,s(),e),w=u(()=>n.value?.episode?n.value.episode.map(g).filter(Boolean):[]),k=u(()=>{if(!n.value)return[];const t=[];if(n.value.location?.url){const d=g(n.value.location.url);d&&!t.includes(d)&&t.push(d)}return t}),{data:D}=([e,s]=x(()=>C(`episodes-${p.value}`,()=>L(w.value),{watch:[w]})),e=await e,s(),e),M=u(()=>{const t=D.value;return t?Array.isArray(t)?t:[t]:[]}),{data:V}=([e,s]=x(()=>C(`locations-${p.value}`,()=>b(k.value),{watch:[k]})),e=await e,s(),e),B=u(()=>{const t=V.value;return t?Array.isArray(t)?t:[t]:[]}),A=u(()=>{if(!n.value?.location?.url)return null;const t=g(n.value.location.url);return B.value.find(d=>d.id===t)??null});return T({title:n.value?`${n.value.name} - Rick and Morty`:v.value?"Loading... - Rick and Morty":"Character not found - Rick and Morty"}),(t,d)=>{const H=I,S=F,E=it;return c(),l("div",null,[i(v)?(c(),f(H,{key:0})):i(n)?(c(),f(E,{key:2,character:i(n),episodes:i(M),"current-location":i(A)},null,8,["character","episodes","current-location"])):(c(),f(S,{key:1,message:"Character not found."}))])}}});export{_t as default};
